<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>NWFSC Salmonid Status Review Table and Figures — NWCTrends_report • NWCTrends</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="NWFSC Salmonid Status Review Table and Figures — NWCTrends_report" />
<meta property="og:description" content="This is the main function in the NWCTrends package which
creates the ESU tables and figures from the
Northwest Fisheries Science Center's report: &quot;2015 Status review
update for Pacific salmon and steelhead listed under the Endangered
Species Act: Pacific Northwest&quot;.
The 2015 Status Review report can be viewed by typing
RShowDoc(&quot;2015 Status Review Update&quot;,package=&quot;NWCTrends&quot;)
at the command line. The report has a description of the
methods used for computing the smoothed trend lines and the status metrics.
A pdf of the methods is also available by typing
RShowDoc(&quot;Methods&quot;,package=&quot;NWCTrends&quot;)
at the command line." />
<meta property="og:image" content="https://nwfsc-timeseries.github.io/NWCTrends/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NWCTrends</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.25</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://github.com/nwfsc-timeseries/NWCTrends/releases/tag/v1.0">Version 1.0 2015 SR</a>
    </li>
    <li>
      <a href="https://github.com/nwfsc-timeseries/NWCTrends/releases/tag/v1.25">Version 1.25 2020 SR</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nwfsc-timeseries/NWCTrends/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>NWFSC Salmonid Status Review Table and Figures</h1>
    <small class="dont-index">Source: <a href='https://github.com/nwfsc-timeseries/NWCTrends/blob/master/R/NWCTrends_report.R'><code>R/NWCTrends_report.R</code></a></small>
    <div class="hidden name"><code>NWCTrends_report.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the main function in the NWCTrends package which
creates the ESU tables and figures from the
Northwest Fisheries Science Center's report: "2015 Status review
update for Pacific salmon and steelhead listed under the Endangered
Species Act: Pacific Northwest".
The 2015 Status Review report can be viewed by typing
<code><a href='https://rdrr.io/r/utils/RShowDoc.html'>RShowDoc("2015 Status Review Update",package="NWCTrends")</a></code>
at the command line. The report has a description of the
methods used for computing the smoothed trend lines and the status metrics.
A pdf of the methods is also available by typing
<code><a href='https://rdrr.io/r/utils/RShowDoc.html'>RShowDoc("Methods",package="NWCTrends")</a></code>
at the command line.</p>
    </div>

    <pre class="usage"><span class='fu'>NWCTrends_report</span><span class='op'>(</span>
  inputfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  fit.min.year <span class='op'>=</span> <span class='cn'>NULL</span>,
  fit.max.year <span class='op'>=</span> <span class='cn'>NULL</span>,
  model <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Z <span class='op'>=</span> <span class='st'>"identity"</span>, R <span class='op'>=</span> <span class='st'>"diagonal and equal"</span>, Q <span class='op'>=</span> <span class='st'>"equalvarcov"</span>, U <span class='op'>=</span>
    <span class='st'>"unequal"</span><span class='op'>)</span>,
  logit.fw <span class='op'>=</span> <span class='cn'>FALSE</span>,
  fit.wild <span class='op'>=</span> <span class='cn'>FALSE</span>,
  plot.min.year <span class='op'>=</span> <span class='cn'>NULL</span>,
  plot.max.year <span class='op'>=</span> <span class='cn'>NULL</span>,
  min.data.points <span class='op'>=</span> <span class='fl'>5</span>,
  geomean.table.control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min.year <span class='op'>=</span> <span class='fl'>1990</span>, max.year <span class='op'>=</span> <span class='fl'>2014</span>, lenbands <span class='op'>=</span> <span class='fl'>5</span>,
    min.band.points <span class='op'>=</span> <span class='fl'>2</span>, change.col <span class='op'>=</span> <span class='st'>"last.two"</span><span class='op'>)</span>,
  trend.table.control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>year.ranges <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1990</span><span class='op'>:</span><span class='fl'>2005</span>, <span class='fl'>1999</span><span class='op'>:</span><span class='fl'>2014</span><span class='op'>)</span><span class='op'>)</span>,
  output.type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"html"</span>, <span class='st'>"pdf"</span>, <span class='st'>"word"</span><span class='op'>)</span>,
  output.dir <span class='op'>=</span> <span class='st'>"NWCTrend_output"</span>,
  fit.all <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>inputfile</th>
      <td><p>comma-delimited data file (see demo files for the format).
demofiles are in inst/doc/demodata.</p></td>
    </tr>
    <tr>
      <th>fit.min.year</th>
      <td><p>Optional. You can set the earliest year to use when fitting the models. If not passed in, then the min.year is the earliest year in the data file. This is used to fit to a subset of the full data set.</p></td>
    </tr>
    <tr>
      <th>fit.max.year</th>
      <td><p>Optional. You can set the last year to use when fitting the models. If not passed in, then the max.year is the last year in the data file. This is used to use a subset of the full data set for fitting.</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>The structure of the MARSS model to use. Entered as a list specified as a <a href='https://rdrr.io/pkg/MARSS/man/MARSS.html'>MARSS</a> model.</p></td>
    </tr>
    <tr>
      <th>logit.fw</th>
      <td><p>TRUE/FALSE whether to estimate the smoothed fraction wild from the logit of the fractions or from the raw (0,1) fractions.</p></td>
    </tr>
    <tr>
      <th>fit.wild</th>
      <td><p>fit.wild=TRUE means to do the fit on fracwild*total versus on the total spawners. Note all the Status Review analyses, use fit.wild=FALSE and the wild fit is total spawner fit x fracwild fit.</p></td>
    </tr>
    <tr>
      <th>plot.min.year</th>
      <td><p>Optional. The earliest year to use when plotting the data if different than the first year in the data set.</p></td>
    </tr>
    <tr>
      <th>plot.max.year</th>
      <td><p>Optional. The last year to use when plotting the data if different than the last year in the data set.</p></td>
    </tr>
    <tr>
      <th>min.data.points</th>
      <td><p>The minimum data points to require from a population (for fitting and plotting).</p></td>
    </tr>
    <tr>
      <th>geomean.table.control</th>
      <td><p>A list with the adjustable variables for geomean_table(). See ?geomean_table</p></td>
    </tr>
    <tr>
      <th>trend.table.control</th>
      <td><p>A list with the adjustable variables for trend_15_table(). See <code><a href='trend_15_table.html'>trend_15_table</a></code>. The year.ranges are the years for the multi-year trends. If any years are missing in the data set, then those trends will be blank.</p></td>
    </tr>
    <tr>
      <th>output.type</th>
      <td><p>"html", "pdf", or "word" Format to produce the report in.</p></td>
    </tr>
    <tr>
      <th>output.dir</th>
      <td><p>Directory (in the working directory) where the output will be saved. Defaults to "NWCTrend_output". The directory will be created if it does not exist.</p></td>
    </tr>
    <tr>
      <th>fit.all</th>
      <td><p>If FALSE, then user can enter what ESUs to fun.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Plots and tables that are saved to doc/figures/ESU_figures.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The default model used to fit the data is that used in the
2015 Status Update. This model uses information across the
populations in an ESU to estimate the process variance,
non-process variance (residuals
between smoothed fits and observed spawners), covariance in
process errors (good and bad year correlation). However it
allows each population to have a different trend.  This model is
specified as <code> model=list(Z="identity", R="diagonal and equal", U="unequal", Q="equalvarcov") </code>.</p>
<p>This function does all the steps to create the trend plots and figures</p><ol>
<li><p>Load data (.csv)</p></li>
<li><p>Fit model(s)</p></li>
<li><p>Make plots and tables and save as report</p></li>
</ol><p>By default, the plots and tables are saved in a directory
named (and created if necessary) NWCTrend_output in your
working directory.</p>
<p>The look of the tables can be adjusted by passing in geomean.tables.control. See ?geomean_tables
for the elements that can be controlled. Note that if the defaults for
geomean.table.control are changed, they must be also changed in geomean_tables.R</p>
<p>See <code><a href='Status_trendfigure_multipanel.html'>Status_trendfigure_multipanel</a></code> for details on the main plot of
smoothed total and wild spawners. See <code><a href='NWCTrends-package.html'>NWCTrends</a></code> for a description of the package.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ford, M. J., K. Barnas, T. Cooney, L. G. Crozier, M. Diaz, J. J. Hard, E. E. Holmes, D. M. Holzer, R. G. Kope, P. W. Lawson, M. Liermann, J. M. Myers, M. Rowse, D. J. Teel, D. M. Van Doornik, T. C. Wainwright, L. A. Weitkamp, M. Williams. 2015. Status Review Update for Pacific Salmon and Steelhead Listed under the Endangered Species Act:  Pacific Northwest. Nationa Marine Fisheries Service, Northwest Fisheries Science Center.
Available from the NWFSC Publications page.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Eli Holmes, NOAA, Seattle, USA.  eli(dot)holmes(at)noaa(dot)gov</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Holmes Elizabeth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


